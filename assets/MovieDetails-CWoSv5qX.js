import{b as f,r as s,u as b,j as e,F as i,_ as v,t as g}from"./index-P-HVMr3t.js";import{b as j,c as N,d as y}from"./index-DYoqHdY8.js";import{a as w}from"./axios-DsPaXkF5.js";function A(){const c=f(),{movie:t}=c.state,[r,m]=s.useState(null),[d,x]=s.useState(!1),u=b();s.useEffect(()=>{w.get(`https://api.themoviedb.org/3/movie/${t.id}/videos`,{params:{api_key:"840037dbd0439b1f8c8bdc5ab0cf3f11"}}).then(a=>{const l=a.data.results.find(n=>n.type==="Trailer"&&n.site==="YouTube");m(l?`https://www.youtube.com/embed/${l.key}`:null)}).catch(a=>{console.error("Error fetching trailer:",a)})},[t.id]);const o=localStorage.getItem("selectedDate"),p=()=>{x(!0),setTimeout(()=>{localStorage.setItem("confirmedMovie",JSON.stringify(t)),u("/ticket-confirmation")},3e3)},h={loop:!0,autoplay:!0,animationData:g,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx("div",{className:"movie-details-container p-4 bg-pink-500 text-white min-h-screen",children:e.jsxs("div",{className:"movie-details-content",children:[e.jsxs("h2",{className:"text-center text-3xl font-bold mb-4",children:[e.jsx(i,{icon:j,className:"mr-2 text-red-500"}),t.title]}),e.jsxs("p",{className:"text-center text-xl mb-2",children:[e.jsx(i,{icon:N,className:"mr-2 text-yellow-400"}),"Rating: ",t.vote_average]}),e.jsxs("p",{className:"text-center text-lg mb-2",children:[e.jsx(i,{icon:y,className:"mr-2"}),"Release Date: ",t.release_date]}),o&&e.jsxs("p",{className:"text-center text-lg mb-4",children:["This is our official movie online date ",o," ‚ù§Ô∏èüòä"]}),r?e.jsx("div",{className:"trailer-container mb-4",children:e.jsx("iframe",{width:"100%",height:"400px",src:r,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("p",{className:"text-center",children:"Trailer not available"}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:p,className:"mt-4 py-2 px-4 bg-red-500 text-white font-bold rounded hover:bg-red-600 transition-all",children:"Choose this movie to be our first movie ‚ù§Ô∏è"}),d&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-2xl font-bold animate-bounce",children:"Preparing your special movie date... ‚ù§Ô∏è"}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(v,{options:h,height:100,width:100})})]})]})]})})}export{A as default};
